## 4장 스위치: 2계층 장비
- 2계층 프레임
- 3계층 패킷
- 4계층 세그먼트

- 편의상 패킷이라 부름

### 4.1. 스위치 장비 동작

- 플러딩
- 어드레스 러닝
- 포워딩/필터링

### 4.2. VLAN
- VLAN 할당 방식: 포트기반 VLAN, MAC 주소 기반의 VLAN

#### 4.2.3. VLAN 모드(Trunk/Access) 동작 방식
### 4.3. STP
- 루프: 네트워크에 연결된 모양이 고리처럼 되돌아오는 형태로 구성된 상황
- 브로드캐스트 스톰
- 스위치 MAC 러닝 중복 문제

- STP: Spanning Tree Protocol
	- BPDU
- 스위치 포트의 상태 및 변경과정:
	- Blocking:
		- 패킷 데이터를 차단한 상태로 상대방이 보내는 BPDU를 기다린다.
		- 총 20초인 Max Age 기간 동안 상대방 스위치에서 BPDU를 받지 못했거나 후순위 BPDU를 받았을때 포트는 리스닝 상태로 변경된다.
		- BPDU 기본 교환 주기는 2초이고 10번의 BPDU를 기다린다.
	- Listening:
		- 리스닝 상태는 해당 포트가 전송 상태로 변경되는 것을 결정하고 준비하는 단계이다. 이 상태부터는 자신의 BPDU 정보를 상태방에게 전송하기 시작한다.
		- 총 15초 동안 대기한다.
	- Learning:
		- 러닝 상태는 이미 해당 포트를 포워딩하기로 결정하고 실제로 패킷 포워딩이 일어날 때 스위치가 곧바로 동작하도록 MAC주소를 러닝하는 단계
		- 총 15초 동안 대기한다
	- Forwarding:
		- 패킷을 포워딩하는 단계이다.

- 향상된 STP(RSTP, MST)
	- RSTP:
		- 빠른 시간 내에 토폴로지 변경을 감지 복구 가능
	- MST:
		- 여러개의 VLAN을 그룹으로 묶고 그 그룹마다 별도의 스패닝 트리가 동작

- 스위치의 구조와 스위치에 IP 주소가 할당된 이유:
	- 관리용으로 IP를 할당하는 경우가 있음
